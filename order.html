<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Addict Bite Cookie</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />

    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"
        rel="stylesheet">
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=Source+Serif+4:ital,opsz,wght@0,8..60,200..900;1,8..60,200..900&display=swap"
        rel="stylesheet">
</head>

<body class="bg-orange-50">
    <div id="navbar"></div>
    <br><br>
    <div class="max-w-xl mx-auto p-6 rounded-xl shadow-md bg-orange-50">
        <h1 class="text-2xl font-bold mb-6 text-center">🛒 Pesan Cookies</h1>

        <form id="orderForm" class="space-y-4">
            <div id="step1">
                <!-- Varian 1 -->
                <div class="flex items-center gap-4">
                    <img src="images/product/1.webp" alt="Classic" class="w-16 h-16 object-cover rounded" />
                    <div class="flex-1">
                        <p class="font-medium">Classic</p>
                        <p class="text-sm text-gray-500">Rp 23.000</p>
                    </div>
                    <!-- <input type="number" name="classic" min="0" class="w-16 border rounded p-1 qty-input" placeholder="0" /> -->
                    <div class="flex-2">
                        <div class="flex items-center gap-1">
                            <button type="button" class="qty-btn bg-orange-400 text-white px-2 rounded"
                                onclick="updateQty('classic', -1)">−</button>
                            <input type="text" name="classic" id="classic" value="0" readonly
                                class="w-10 text-center border rounded" />
                            <button type="button" class="qty-btn bg-orange-400 text-white px-2 rounded"
                                onclick="updateQty('classic', 1)">+</button>
                        </div>
                        <p class="text-sm text-gray-500" id="totalClassic" value="0"></p>
                    </div>
                </div>
                <div class="flex items-center gap-4">
                    <img src="images/product/2.webp" alt="Original" class="w-16 h-16 object-cover rounded" />
                    <div class="flex-1">
                        <p class="font-medium">OG with Marshmallow</p>
                        <p class="text-sm text-gray-500">Rp 21.500</p>
                    </div>
                    <!-- <input type="number" name="original" min="0" class="w-16 border rounded p-1 qty-input"
                    placeholder="0" /> -->
                    <div class="flex-2">
                        <div class="flex items-center gap-1">
                            <button type="button" class="qty-btn bg-orange-400 text-white px-2 rounded"
                                onclick="updateQty('original', -1)">−</button>
                            <input type="text" name="original" id="original" value="0" readonly
                                class="w-10 text-center border rounded" />
                            <button type="button" class="qty-btn bg-orange-400 text-white px-2 rounded"
                                onclick="updateQty('original', 1)">+</button>
                        </div>
                        <p class="text-sm text-gray-500" id="totalOriginal" value="0"></p>
                    </div>
                </div>
                <div class="flex items-center gap-4">
                    <img src="images/product/7.webp" alt="Biscoff" class="w-16 h-16 object-cover rounded" />
                    <div class="flex-1">
                        <p class="font-medium">Biscoff</p>
                        <p class="text-sm text-gray-500">Rp 20.500</p>
                    </div>
                    <!-- <input type="number" name="biscoff" min="0" class="w-16 border rounded p-1 qty-input" placeholder="0" /> -->
                    <div class="flex-2">
                        <div class="flex items-center gap-1">
                            <button type="button" class="qty-btn bg-orange-400 text-white px-2 rounded"
                                onclick="updateQty('biscoff', -1)">−</button>
                            <input type="text" name="biscoff" id="biscoff" value="0" readonly
                                class="w-10 text-center border rounded" />
                            <button type="button" class="qty-btn bg-orange-400 text-white px-2 rounded"
                                onclick="updateQty('biscoff', 1)">+</button>
                        </div>
                        <p class="text-sm text-gray-500" id="totalBiscoff" value="0"></p>
                    </div>
                </div>

                <!-- Varian 2 -->
                <div class="flex items-center gap-4">
                    <img src="images/product/3.webp" alt="Double Choco" class="w-16 h-16 object-cover rounded" />
                    <div class="flex-1">
                        <p class="font-medium">Double Choco</p>
                        <p class="text-sm text-gray-500">Rp 22.500</p>
                    </div>
                    <!-- <input type="number" name="doubleChoco" min="0" class="w-16 border rounded p-1 qty-input"
                    placeholder="0" /> -->
                    <div class="flex-2">
                        <div class="flex items-center gap-1">
                            <button type="button" class="qty-btn bg-orange-400 text-white px-2 rounded"
                                onclick="updateQty('doubleChoco', -1)">−</button>
                            <input type="text" name="doubleChoco" id="doubleChoco" value="0" readonly
                                class="w-10 text-center border rounded" />
                            <button type="button" class="qty-btn bg-orange-400 text-white px-2 rounded"
                                onclick="updateQty('doubleChoco', 1)">+</button>
                        </div>
                        <p class="text-sm text-gray-500" id="totalDoubleChoco" value="0"></p>
                    </div>
                </div>
                <div class="flex items-center gap-4">
                    <img src="images/product/4.webp" alt="Black Caramel" class="w-16 h-16 object-cover rounded" />
                    <div class="flex-1">
                        <p class="font-medium">Black Caramel</p>
                        <p class="text-sm text-gray-500">Rp 25.000</p>
                    </div>
                    <!-- <input type="number" name="blackCaramel" min="0" class="w-16 border rounded p-1 qty-input"
                    placeholder="0" /> -->
                    <div class="flex-2">
                        <div class="flex items-center gap-1">
                            <button type="button" class="qty-btn bg-orange-400 text-white px-2 rounded"
                                onclick="updateQty('blackCaramel', -1)">−</button>
                            <input type="text" name="blackCaramel" id="blackCaramel" value="0" readonly
                                class="w-10 text-center border rounded" />
                            <button type="button" class="qty-btn bg-orange-400 text-white px-2 rounded"
                                onclick="updateQty('blackCaramel', 1)">+</button>
                        </div>
                        <p class="text-sm text-gray-500" id="totalBlackCaramel" value="0"></p>
                    </div>
                </div>

                <div class="flex items-center gap-4">
                    <img src="images/product/5.webp" alt="Matcha" class="w-16 h-16 object-cover rounded" />
                    <div class="flex-1">
                        <p class="font-medium">Matcha</p>
                        <p class="text-sm text-gray-500">Rp 23.500</p>
                    </div>
                    <!-- <input type="number" name="matchaWhiteChoco" min="0" class="w-16 border rounded p-1 qty-input"
                    placeholder="0" /> -->
                    <div class="flex-2">
                        <div class="flex items-center gap-1">
                            <button type="button" class="qty-btn bg-orange-400 text-white px-2 rounded"
                                onclick="updateQty('matchaWhiteChoco', -1)">−</button>
                            <input type="text" name="matchaWhiteChoco" id="matchaWhiteChoco" value="0" readonly
                                class="w-10 text-center border rounded" />
                            <button type="button" class="qty-btn bg-orange-400 text-white px-2 rounded"
                                onclick="updateQty('matchaWhiteChoco', 1)">+</button>
                        </div>
                        <p class="text-sm text-gray-500" id="totalMatchaWhiteChoco" value="0"></p>
                    </div>
                </div>
                <div class="flex items-center gap-4">
                    <img src="images/product/6.webp" alt="Red Velvet" class="w-16 h-16 object-cover rounded" />
                    <div class="flex-1">
                        <p class="font-medium">Red Velvet</p>
                        <p class="text-sm text-gray-500">Rp 18.500</p>
                    </div>
                    <!-- <input type="number" name="redVelvet" min="0" class="w-16 border rounded p-1 qty-input"
                    placeholder="0" /> -->
                    <div class="flex-2">
                        <div class="flex items-center gap-1">
                            <button type="button" class="qty-btn bg-orange-400 text-white px-2 rounded"
                                onclick="updateQty('redVelvet', -1)">−</button>
                            <input type="text" name="redVelvet" id="redVelvet" value="0" readonly
                                class="w-10 text-center border rounded" />
                            <button type="button" class="qty-btn bg-orange-400 text-white px-2 rounded"
                                onclick="updateQty('redVelvet', 1)">+</button>
                        </div>
                        <p class="text-sm text-gray-500" id="totalRedVelvet" value="0"></p>
                    </div>
                </div>
                <!-- <div class="flex items-center gap-4">
                    <strong>Total</strong>
                    <div class="flex-1">

                    </div>
                    <div class="flex-2">
                        <div class="flex items-center gap-1">

                        </div>
                        <p class="text-sm text-black-500" id="totalAll" value="0"></p>
                    </div>
                </div> -->


                <!-- <div class="flex items-center gap-4">
                <img src="images/product/03.webp" alt="Matcha" class="w-16 h-16 object-cover rounded" />
                <div class="flex-1">
                    <p class="font-medium">Monster Cookie</p>
                    <p class="text-sm text-gray-500">Rp 11.000</p>
                </div>
                <input type="number" name="monsterCookie" min="0" class="w-16 border rounded p-1" placeholder="0" />
            </div> -->
                <!-- Info Pembeli -->
                <button type="button" onclick="showStep2()"
                    class="w-full bg-orange-500 text-white p-2 rounded hover:bg-orange-600">Lanjut</button>
            </div>
            <div id="step2" class="hidden">
                <hr class="my-4">
                <div>
                    <label class="block mb-1">Nama</label>
                    <input type="text" name="nama" required class="w-full border rounded p-2 qty-input" />
                </div>
                <div>
                    <label class="block mb-1">Alamat</label>
                    <textarea name="alamat" required class="w-full border rounded p-2 qty-input" rows="2"></textarea>
                </div>
                <div>
                    <label class="block mb-1">Pesan</label>
                    <input type="text" name="pesan" class="w-full border rounded p-2 qty-input" />
                </div>
                <div>
                    <label class="block mb-1">Jasa Pengiriman</label>
                    <select name="jasa" class="w-full border rounded p-2 qty-input">
                        <option value="Ekspedisi (JNT)"> Ekspedisi (JNT)</option>
                        <option value="Gosend">Gosend</option>
                        <option value="Kurir lokal (Khusus area SBY & SDA*)">Kurir lokal (Khusus area SBY & SDA*)</option>
                        <option value="-">-</option>
                    </select>
                </div>
                <div>
                    <label class="block mb-1">Metode Pembayaran</label>
                    <select name="pembayaran" class="w-full border rounded p-2 qty-input">
                        <option value="Transfer">Transfer</option>
                        <option value="Cash">Cash</option>
                    </select>
                </div>

                <button type="submit" class="w-full mt-4 bg-green-500 text-white p-2 rounded hover:bg-green-600">
                    Kirim via WhatsApp
                </button>
                <button type="button" onclick="hideStep2()"
                    class="w-full mt-2 bg-gray-300 text-gray-800 p-2 rounded hover:bg-gray-400">Kembali</button>
            </div>
        </form>
    </div>

</body>
<footer class="bg-amber-900 text-white py-6 mt-10">
    <div class="max-w-7xl mx-auto px-4 text-center">
        <p>&copy; 2023 Addict Bite Cookie. All rights reserved.</p>
    </div>
</footer>

</html>
<script>

    let totalAll = 0;
    function showStep2() {
        document.getElementById('step1').classList.add('hidden');
        document.getElementById('step2').classList.remove('hidden');
    }

    function hideStep2() {
        document.getElementById('step1').classList.remove('hidden');
        document.getElementById('step2').classList.add('hidden');
    }
    function updateQty(id, delta) {
        const input = document.getElementById(id);
        let value = parseInt(input.value) || 0;
        value += delta;
        if (value < 0) value = 0;
        input.value = value;
        const hargaPerPcs = {
            classic: 23000,
            original: 21500,
            biscoff: 20500,
            doubleChoco: 22500,
            redVelvet: 18500,
            blackCaramel: 25000,
            matchaWhiteChoco: 23500,
            // monsterCookie: 11000
        };
        const totalHarga = value * hargaPerPcs[id];
        totalAll += totalHarga;
        const totalElement = document.getElementById(`total${id.charAt(0).toUpperCase() + id.slice(1)}`);
        /*const totalAllElement = document.getElementById('totalAll');
        if (totalAllElement) {
            totalAllElement.textContent = `Total: Rp ${totalAll.toLocaleString("id-ID")}`;
        } else {
            const newTotalAllElement = document.createElement('p');
            newTotalAllElement.id = 'totalAll';
            newTotalAllElement.textContent = `Total: Rp ${totalAll.toLocaleString("id-ID")}`;
            input.parentNode.appendChild(newTotalAllElement);
        }*/
        if (totalElement) {
            totalElement.textContent = `Total: Rp ${totalHarga.toLocaleString("id-ID")}`;
        }
        if (!totalElement) {
            const newTotalElement = document.createElement('p');
            newTotalElement.id = `total${id.charAt(0).toUpperCase() + id.slice(1)}`;
            newTotalElement.textContent = `Total: Rp ${totalHarga.toLocaleString("id-ID")}`;
            input.parentNode.appendChild(newTotalElement);
        }
    }
    fetch('navbar.html')
        .then(res => res.text())
        .then(data => {
            document.getElementById('navbar').innerHTML = data;
        });
    document.querySelectorAll('.qty-input').forEach((input, index, inputs) => {
        input.addEventListener('keydown', function (e) {
            if (e.key === 'Enter') {
                e.preventDefault(); // Biar form nggak submit
                const next = inputs[index + 1];
                if (next) {
                    next.focus();
                }
            }
        });
    });
    document.getElementById('orderForm').addEventListener('submit', function (e) {
        e.preventDefault();

        const classic = parseInt(this.classic.value) || 0;
        const original = parseInt(this.original.value) || 0;
        const biscoff = parseInt(this.biscoff.value) || 0;
        const doubleChoco = parseInt(this.doubleChoco.value) || 0;
        const redVelvet = parseInt(this.redVelvet.value) || 0;
        const blackCaramel = parseInt(this.blackCaramel.value) || 0;
        const matchaWhiteChoco = parseInt(this.matchaWhiteChoco.value) || 0;
        //const monsterCookie = parseInt(this.monsterCookie.value) || 0;

        const nama = this.nama.value.trim();
        const alamat = this.alamat.value.trim();
        const pembayaran = this.pembayaran.value;
        const message = this.pesan.value;
        const jasa = this.jasa.value;

        // Harga per pcs
        const hargaClassic = 23000;
        const hargaOriginal = 21500;
        const hargaBiscoff = 20500;
        const hargaDouble = 22500;
        const hargaVelvet = 18500;
        const hargaCaramel = 25000;
        const hargaMatcha = 23500;
        const hargaMonster = 11000;

        let pesan = `Halo, saya ingin memesan cookies:\n\n📥 Order:\n`;
        let total = 0;
        let totalHarga = 0;

        if (classic > 0) {
            pesan += `- Classic: ${classic} pcs (Rp ${(classic * hargaClassic).toLocaleString("id-ID")})\n`;
            total += classic;
            totalHarga += classic * hargaClassic;
        }

        if (original > 0) {
            pesan += `- OG with Marshmallow: ${original} pcs (Rp ${(original * hargaOriginal).toLocaleString("id-ID")})\n`;
            total += original;
            totalHarga += original * hargaOriginal;
        }

        if (biscoff > 0) {
            pesan += `- Biscoff: ${biscoff} pcs (Rp ${(biscoff * hargaBiscoff).toLocaleString("id-ID")})\n`;
            total += biscoff;
            totalHarga += biscoff * hargaBiscoff;
        }
        if (doubleChoco > 0) {
            pesan += `- Double Choco: ${doubleChoco} pcs (Rp ${(doubleChoco * hargaDouble).toLocaleString("id-ID")})\n`;
            total += doubleChoco;
            totalHarga += doubleChoco * hargaDouble;
        }
        if (redVelvet > 0) {
            pesan += `- Red Velvet: ${redVelvet} pcs (Rp ${(redVelvet * hargaVelvet).toLocaleString("id-ID")})\n`;
            total += redVelvet;
            totalHarga += redVelvet * hargaVelvet;
        }
        if (blackCaramel > 0) {
            pesan += `- Black Caramel: ${blackCaramel} pcs (Rp ${(blackCaramel * hargaCaramel).toLocaleString("id-ID")})\n`;
            total += blackCaramel;
            totalHarga += blackCaramel * hargaCaramel;
        }
        if (matchaWhiteChoco > 0) {
            pesan += `- Matcha: ${matchaWhiteChoco} pcs (Rp ${(matchaWhiteChoco * hargaMatcha).toLocaleString("id-ID")})\n`;
            total += matchaWhiteChoco;
            totalHarga += matchaWhiteChoco * hargaMatcha;
        }
        /*if (monsterCookie > 0) {
            pesan += `- Monster Cookie: ${monsterCookie} pcs (Rp ${monsterCookie * hargaMonster})\n`;
            total += monsterCookie;
            totalHarga += monsterCookie * hargaMonster;
        }*/

        pesan += `\n🍪 Total: ${total} pcs\n💰 Total Harga Cookies: Rp ${totalHarga.toLocaleString("id-ID")}\n`;
        if(jasa == 'Ekspedisi (JNT)' ){
            pesan += `📦 Biaya Packing Luar Kota: Rp  3.000\n`;
        }
        pesan += `      *(Total harga belum termasuk ongkir)*\n\n📛 Nama: ${nama}\n🏠 Alamat: ${alamat}\n💳 Pembayaran: ${pembayaran}\n🚚 Jasa Pengiriman: ${jasa}\n🗒️ Pesan : ${message}
`;

        const nomor = "6281617997119"; // Ganti nomor WA
        const encoded = encodeURIComponent(pesan);
        window.open(`https://wa.me/${nomor}?text=${encoded}`, '_blank');
    });
</script>